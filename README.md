# clearspending-downloader
Download selected contract data from Clearspending.ru API as CSV file

### Возможности

optional arguments:

  -h, --help          show this help message and exit

  -o , --output       Название итогового файла CSV

  -b , --begin        Начало периода в форме дд.мм.гггг

  -e , --end          Конец периода в форме дд.мм.гггг

  -i , --inn          ИНН заказчика

  -k , --kpp          КПП заказчика

  -r , --region       Код региона заказчика

  -p , --pricerange   Диапазон цен контрактов, например: 10000-50000

  -f , --fz           ФЗ, варианты: 94, 44, 223

  -C, --contracts     Выгрузить данные в формате 1 строка = 1 контракт

  -P, --products      Выгрузить данные в формате 1 строка = 1 продукт


### Примеры запросов


Скачать в виде файла test.csv все контракты Государственной административно-технической инспекции СПб (ИНН 7803032323) начиная с 01.01.2016 в формате 1 строка - 1 контракт

`python contract_surfer.py -o test -i 7803032323 -b 01.01.2016 -C`

Узнать, сколько контрактов доступно по Москве начиная с 10.03.2017 и до настоящего момента

`python contract_surfer.py -r 77 -b 10.03.2017`

Узнать сколько доступно контрактов Администрации губернатора СПб (ИНН 7830002078) за период с 01.01.2015 по 01.07.2016

`python contract_surfer.py -i 7830002078 -b 01.01.2015 -e 01.07.2016`

Узнать сколько доступно контрактов СПб ГКУ "Организатор перевозок" (ИНН 7840379186) за период с 01.01.2011 до настоящего момента

`python contract_surfer.py -i 7840379186 -b 01.01.2011`

Узнать, сколько контрактов было заключено по Москве в 2016 г. по 223-ФЗ

`python contract_surfer.py -r 77 -b 01.01.2016 -e 31.12.2016 -f 223`

Узнать, сколько контрактов было заключено по СПб в 2016 г. по 44-ФЗ в ценовом диапазоне от 100000 до 1000000 рублей

`python contract_surfer.py -r 78 -b 01.01.2016 -e 31.12.2016 -f 44 -p 100000-1000000`

Выгрузить данные о закупках Администрации губернатора СПб (ИНН 7830002078) за период с 01.01.2016 по настоящий момент в формате 1 строка - 1 продукт и сохранить их в файл spb_gub_adm_2016-2017.csv

`python contract_surfer.py -o spb_gub_adm_2016-2017 -i 7830002078 -b 01.01.2016 -P`
